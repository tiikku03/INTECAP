productos = [
  {
    producto: "Resma de papel",
    descripcion: "Papel multiusos para impresión y copiado.",
    precio: 75,
    imagen_url: "https://walmartgt.vtexassets.com/arquivos/ids/481312/Resma-De-Papel-Chamex-Carta-98-Blancura-2-41048.jpg?v=638423985808530000",
  },
  {
    producto: "Bolígrafo de tinta negra",
    descripcion: "Para escritura diaria.",
    precio: 25,
    imagen_url: "https://www.officedepot.com.gt/medias/43553.jpg-1200ftw?context=bWFzdGVyfHJvb3R8Njg4ODl8aW1hZ2UvanBlZ3xhRFpqTDJneVpTOHhNakE0TmpVM05qYzBNalF6TUM4ME16VTFNeTVxY0dkZk1USXdNR1owZHd8NmFkN2EzZjg3MzY5MTIwNmQzOTMzZTI4M2YwNWFhN2E3Njc1MzkwY2NkNDNjNjI1ZGQxNzI1ODk0ZmNhZjQxMA",
  },
  {
    producto: "Lapicero",
    descripcion: "Lapiceros HB para escribir y dibujar.",
    precio: 30,
    imagen_url: "https://www.eduardozamarro.com/blog/wp-content/uploads/2013/12/lapiceros-y-durezas.jpg",
  },
  {
    producto: "Grapadora",
    descripcion: "Para unir documentos.",
    precio: 45,
    imagen_url: "https://acosa.com.gt/wp-content/uploads/2025/03/A69656.webp",
  },
  {
    producto: "Grapas",
    descripcion: "Repuesto para grapadora.",
    precio: 15,
    imagen_url: "https://www.officedepot.com.gt/medias/37247.jpg-1200ftw?context=bWFzdGVyfHJvb3R8NDM1NzAxfGltYWdlL2pwZWd8YUdRNEwyZzJOaTg1T1RJMU5UQTNOakV5TnpBeUxtcHdad3xhYmU1ZjQxOTEwNGRhZjIwOTM0NmVhM2NjN2NlYmUwMDdlOWY0NjdjZDFiYzIyYzZkZWM5NjA1MTgyZTE5YWUx",
  },
  {
    producto: "Cinta adhesiva",
    descripcion: "Para pegar y reparar.",
    precio: 18,
    imagen_url: "https://platino.com.gt/image/catalog/product/6804a1db62831_08223.jpg",
  },
  {
    producto: "Tijeras",
    descripcion: "Para cortar papel y otros materiales.",
    precio: 20,
    imagen_url: "https://walmartgt.vtexassets.com/arquivos/ids/205515/Tijeras-De-Cocina-George-Home-1-21562.jpg?v=637696391982800000",
  },
  {
    producto: "Calculadora científica",
    descripcion: "Para cálculos matemáticos complejos.",
    precio: 150,
    imagen_url: "https://www.officedepot.com.gt/medias/41802.png-1200ftw?context=bWFzdGVyfHJvb3R8NTE3NDU5fGltYWdlL3BuZ3xhRE16TDJnNVlpOHhNakU0TkRZd01URTJOVGcxTkM4ME1UZ3dNaTV3Ym1kZk1USXdNR1owZHd8ODQ1MTE2YTI1MWE4ZTE1YTA1YWVlNzQ2YjlkZTI0Mjk3NTczMTRjNWVlNTMyNjZhZTdlNmFiY2MxY2MwY2Q4Mw",
  },
  {
    producto: "Folder de plástico",
    descripcion: "Para organizar documentos.",
    precio: 7,
    imagen_url: "https://static.compreloadomicilio.com/corpgold/products/014130/675910007ed87516482130.webp",
  },
  {
    producto: "Perforadora de 2 agujeros",
    descripcion: "Para perforar hojas.",
    precio: 55,
    imagen_url: "https://walmartgt.vtexassets.com/arquivos/ids/701718/20404_01.jpg?v=638690432851500000",
  },
  {
    producto: "Post-it",
    descripcion: "Notas adhesivas para recordatorios.",
    precio: 28,
    imagen_url: "https://www.officedepot.com.gt/medias/20352.jpg-1200ftw?context=bWFzdGVyfHJvb3R8NTUxMjk5fGltYWdlL2pwZWd8YURjMUwyZzFaaTh4TURJMk5qa3dOVE0zT0RnME5pOHlNRE0xTWk1cWNHZGZNVEl3TUdaMGR3fGUzNTI2YmQ2MmYzY2QzOWM3ZGRkMThjNzZjMjZmYjAxN2FmZjJiMzQ3M2MyYTA1Yzk3MDQwMTc5NTRiM2FiMTE",
  },
  {
    producto: "Marcadores fluorescentes",
    descripcion: "Para resaltar texto importante.",
    precio: 22,
    imagen_url: "https://www.officedepot.com.gt/medias/35078.jpg-1200ftw?context=bWFzdGVyfHJvb3R8MTIxNjcxfGltYWdlL2pwZWd8YUdGa0wyZzRNaTg1T0RVMk9Ea3lOak16TVRFNExtcHdad3xmNjAzZTNjNzM0YWMyMDMzNzVjOTJiNzU0N2ZlYjNkOWM5NGNiZmYwNTg1YWI2NTVlNTVlMzg5ZTgyM2Q2M2Uz",
  },
  {
    producto: "Corrigedor líquido",
    descripcion: "Para corregir errores de escritura.",
    precio: 12,
    imagen_url: "https://polipapel.vteximg.com.br/arquivos/ids/155755-1000-1000/Corrector-Y25269-1.jpg?v=636682236072230000",
  },
  {
    producto: "Clips",
    descripcion: "Para sujetar papeles temporalmente.",
    precio: 8,
    imagen_url: "https://www.officedepot.com.gt/medias/37272.jpg-1200ftw?context=bWFzdGVyfHJvb3R8NDY1MDUzfGltYWdlL2pwZWd8YUdFM0wyaGpOeTg1T1RJMU5URXlOVEkzT1RBeUxtcHdad3xkYTM3NzU3YzVlZTI3NTA0NjYzNDFmNWJmMDNmYWU3ZWU4ZjA3ZGVkOTgyM2VhMWM3NjkyODA0OWIzOGFkNGE3",
  },
  {
    producto: "Borrador de nata",
    descripcion: "Para borrar lápiz.",
    precio: 5,
    imagen_url: "https://www.megaoffice.com.ve/images/papele/img_original/nata620.jpg",
  },
  {
    producto: "Sacapuntas",
    descripcion: "Para afilar lápices.",
    precio: 6,
    imagen_url: "https://grupotucan.com/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/s/a/sacapuntas_1_agujero.png",
  },
  {
    producto: "Destructor de papel",
    descripcion: "Para eliminar documentos confidenciales.",
    precio: 500,
    imagen_url: "https://www.officedepot.com.gt/medias/35652.jpg-1200ftw?context=bWFzdGVyfHJvb3R8MjY2MjE5fGltYWdlL2pwZWd8YURRNUwyaGpPUzg1T1RBd056UTFNVGsxTlRVd0xtcHdad3xlNmM3YTk1ODczOWQwZmI4MThjYzkxYmEzYjIzZWU2N2Y0ODVjMTRmMmIzM2FjZDc0YTNhNDliYjI5NDcwNDBi",
  },
  {
    producto: "Archivero de 3 anillas",
    descripcion: "Para almacenar documentos perforados.",
    precio: 35,
    imagen_url: "https://p.globalsources.com/IMAGES/PDT/B1183334924/Encuadernadora-de-anillo.jpg?ver=5611412791",
  },
  {
    producto: "Carpeta de proyectos con elástico",
    descripcion: "Para guardar trabajos y proyectos.",
    precio: 20,
    imagen_url: "https://carchivo.com/792-home_default/carpeta-de-proyectos-de-polipropileno-con-gomas.jpg",
  },
  {
    producto: "Sellos de goma",
    descripcion: "Para marcar documentos con información específica.",
    precio: 120,
    imagen_url: "https://mpublicidad.com/wp-content/uploads/2020/09/sellos-de-goma-personalizados.png",
  },
];

window.addEventListener("DOMContentLoaded", () => {
  const productosContainer = document.querySelector(".productos");
  const loadMoreButton = document.querySelector(".LoadMoreButtons");
  const cards = productos.map((producto) => {
    return `
       <div class="contenedorProductosIndividual">
        <div class="producto-content">
            <img src="${producto.imagen_url}" alt="${producto.producto}">
            <div>
                <h3>${producto.producto}</h3>
                <p>Q.${producto.precio}</p>
            </div>
            <p>${producto.descripcion}</p>
        </div>
        <button class="addToCartBtn" id="${producto.producto}">Añadir al carrito</button>
    </div>
        `;
  });

  if (cards.length / 10 > 1) {
    const carsToshow = cards.slice(0, 10);
    productosContainer.innerHTML = carsToshow.join("");
  }

  function loadingMoreContent() {
    const currentLength = productosContainer.children.length;
    const nextCards = cards.slice(currentLength, currentLength + 10);
    productosContainer.innerHTML += nextCards.join("");
  }

  if (cards.length > 10) {
    loadMoreButton.innerHTML = `<button class="btn">Cargar más productos</button>`;
  }
  loadMoreButton.addEventListener("click", () => {
    loadingMoreContent();
    addToCart();
    if (productosContainer.children.length >= cards.length) {
      loadMoreButton.innerHTML = "";
    }
  });

  addToCart();
});

function addToCart() {
  const addToCartButtons = document.querySelectorAll(".addToCartBtn");

  addToCartButtons.forEach((button) => {
    button.addEventListener("click", () => {
      const productId = button.id;
      const producto = productos.find((p) => p.producto === productId);
      const cartArray = JSON.parse(localStorage.getItem("cart")) || [];

      const existingProductIndex = cartArray.findIndex(
        (p) => p.producto === productId
      );

      if (existingProductIndex !== -1) {
        // If the product exists, increment its quantity
        cartArray[existingProductIndex].cantidad++;
      } else {
        // If the product does not exist, add it to the cart
        cartArray.push({ ...producto, cantidad: 1 });
      }
      
      localStorage.setItem("cart", JSON.stringify(cartArray));
      console.log(cartArray);   
      
    });
  });
}

function notifysubmit(){
    const footerEmail = document.getElementById("footer-email").value;
    if (footerEmail) {
        alert(`Gracias por suscribirte con el correo: ${footerEmail}`);
        document.getElementById("footer-email").value = '';
    } else {
        alert("Por favor, ingresa un correo electrónico válido.");
    }
    e.preventDefault();
}
